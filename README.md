# 📦 Linux 存储管理实战（LVM / XFS / EXT4）

作为一名正在成长的运维实习生，我把最近练习 Linux 存储管理的核心流程整理成这个仓库，用来巩固系统基础，也贴近企业真实环境的扩容与迁移操作。

## 🟦 1. 新增磁盘与挂载

使用 fdisk 分区

mkfs.xfs / mkfs.ext4 格式化

挂载到 /data

/etc/fstab 持久化

这是磁盘使用的基础操作，也是之后做 LVM 的前提。

## 🟧 2. LVM 管理：PV / VG / LV 全流程

pvcreate 初始化物理卷

vgcreate 建立卷组

lvcreate 创建逻辑卷

配置 XFS / EXT4 文件系统

掌握 LVM 是理解企业存储体系的关键。

## 🟩 3. XFS 扩容（在线扩容）

XFS 支持在线扩容，不需要卸载：

lvextend + xfs_growfs

适合数据库、日志目录等高可用场景。

## 🟥 4. XFS 缩容（迁移缩容法）

由于 XFS 不支持 shrink，采用迁移方案：

创建更小 LV

rsync -avx 迁移数据

diff -r 校验目录一致性

删除旧 LV

重命名新 LV

挂载回原路径

这是生产环境中 唯一安全可靠 的 XFS 缩容方式。

## 🟦 5. EXT4 扩缩容

EXT4 支持在线扩容，也支持离线 shrink：

扩：lvextend + resize2fs

缩：umount → e2fsck → resize2fs

适用于更灵活的文件系统管理场景。

## 🟨 6. 其他存储基础：Swap / inode / 使用率分析

创建并持久化 swapfile

df -i 排查 inode

du -sh / df -Th 分析目录与磁盘空间

MD5 校验数据完整性（迁移后）

这些工具是排障和日常运维的核心技能。

## 🎯 这个仓库的意义

### 这是我作为运维实习生的一个阶段性学习成果，用来：

#### 夯实 Linux 存储基础

掌握企业常用的扩容与迁移手法

训练自己处理文件系统风险

形成可复现、可验证、可总结的操作流程

我会持续更新，也希望未来能处理更复杂的生产级存储环境。

#### 巩固 Linux 存储体系，为后续云原生与 Kubernetes 学习打好基础。

这个仓库是我学习道路上的一个阶段成果，也记录了我不断“动手实战”的态度。
